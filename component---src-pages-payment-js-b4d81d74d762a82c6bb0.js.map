{"version":3,"sources":["webpack://sc-idolfest-website/./src/components/PageHeader.js","webpack://sc-idolfest-website/./src/components/paymentForm.js","webpack://sc-idolfest-website/./src/pages/payment.js"],"names":["WelcomeWrapper","styled","Box","width","display","color","background","justifyContent","alignItems","textAlign","flexShrink","margin","transform","title","S","src","alt","className","height","layout","style","padding","appId","locationId","lambdaUrl","initializeCard","payments","card","attach","buildPaymentRequest","amount","paymentRequest","countryCode","currencyCode","total","toString","label","initializeGooglePay","googlePay","createPayment","token","guid","body","JSON","stringify","sourceId","fetch","method","headers","paymentResponse","ok","json","text","errorBody","Error","tokenize","paymentMethod","tokenResult","status","errorMessage","errors","displayPaymentResults","paymentResults","statusContainer","document","getElementById","receiptContainer","classList","remove","add","visibility","innerHTML","payment","receiptUrl","window","gtag","params","URLSearchParams","location","search","e","badgeType","get","resetSource","allIframes","i","length","PaymentForm","componentDidMount","handlePaymentMethodSubmission","event","preventDefault","cardButton","disabled","console","debug","getElementsByTagName","error","message","Square","this","props","addEventListener","undefined","applePay","render","id","type","Component","useState","squareStatus","setSquareStatus","useEffect","Promise","resolve","reject","sqPaymentScript","createElement","crossorigin","onload","onerror","appendChild","then","catch","tax","PageHeader","PageContent","suppressHydrationWarning","CenteredBox","toFixed","Link","to"],"mappings":"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","file":"component---src-pages-payment-js-b4d81d74d762a82c6bb0.js","sourcesContent":["import * as React from 'react'\nimport { StaticImage } from 'gatsby-plugin-image'\nimport Box from '@material-ui/core/Box'\nimport PropTypes from 'prop-types'\nimport { styled } from '@material-ui/styles'\n\nconst WelcomeWrapper = styled(Box)({\n    width: '100%',\n    display: 'flex',\n    color: 'black',\n    background: 'rgb(250,210,233)',\n    // eslint-disable-next-line no-dupe-keys\n    background: 'radial-gradient(circle, rgba(237, 171, 104, 1), rgba(227, 127, 27, 1) 0%, rgba(237, 171, 104, 1))',\n    justifyContent: 'center',\n    alignItems: 'center',\n    '& h1': {\n      textAlign: 'center',\n    },\n    '& .flexStar': {\n      flexShrink: '0',\n      margin: '0 .5em'\n    },\n    '& .flexStar:nth-of-type(1)': {\n      transform: `rotate(25deg)`\n    },\n    '& .flexStar:nth-of-type(2)': {\n      transform: `rotate(50deg)`\n    },\n    '& .flexStar:nth-of-type(3)': {\n      transform: `rotate(55deg)`\n    },\n    '& .flexStar:nth-of-type(4)': {\n      transform: `rotate(85deg)`\n    },\n    '& .flexStar:nth-of-type(5)': {\n      transform: `rotate(55deg)`\n    },\n    '& .flexStar:nth-of-type(6)': {\n      transform: `rotate(35deg)`\n    },\n    \"@media (max-width: 678px)\": {\n      '& .flexStar': {\n        display: 'none'\n      }\n    }\n  })\n  \n  const PageHeader = ({ title }) => {\n    return (\n      <WelcomeWrapper>\n        <StaticImage \n            src='../images/slimStarWhite.svg' \n            alt=''\n            className='flexStar'\n            height={40}\n            layout='fixed'\n        />      \n        <StaticImage \n            src='../images/slimStarWhite.svg' \n            alt=''\n            className='flexStar'\n            height={50}\n            layout='fixed'\n        />      \n        <StaticImage \n            src='../images/slimStarWhite.svg' \n            alt=''\n            className='flexStar'\n            height={60}\n            layout='fixed'\n        />\n        <h1 style={{display: 'inline', padding: '0 .5em' }}>{title}</h1>\n        <StaticImage \n            src='../images/slimStarWhite.svg' \n            alt=''\n            className='flexStar'\n            height={60}\n            layout='fixed'\n        />      \n        <StaticImage \n            src='../images/slimStarWhite.svg' \n            alt=''\n            className='flexStar'\n            height={50}\n            layout='fixed'\n        />      \n        <StaticImage \n            src='../images/slimStarWhite.svg' \n            alt=''\n            className='flexStar'\n            height={40}\n            layout='fixed'\n        />\n    </WelcomeWrapper>\n)}\n\nPageHeader.propTypes = {\n    title: PropTypes.string,\n}\n\nexport default PageHeader","import React, { Component } from \"react\"\nimport \"./paymentForm.css\"\n\nlet appId\nlet locationId\nlet lambdaUrl\n\nif (process.env.NODE_ENV === 'development') {\n    appId = 'sandbox-sq0idb-S1xs9NDkn4cJR2JcDOupiA'\n    // this is the dev Square main location\n    // there is a separate location for (At Event)\n    locationId = 'LWGKEFPEN4J9S'\n    lambdaUrl = 'https://dh0u3gmyw2.execute-api.us-east-1.amazonaws.com/prod/reg-payment-dev'\n} else {\n    appId = 'sq0idp-OyXssltwNQblNk9NOxKJ4w'\n    locationId = 'L5CYNKWS08HGD'\n    lambdaUrl = 'https://dh0u3gmyw2.execute-api.us-east-1.amazonaws.com/prod/reg-payment'\n}\n\nexport const loadSquareSdk = () => {\n    return new Promise((resolve, reject) => {  \n        const sqPaymentScript = document.createElement(\"script\")\n        if (process.env.NODE_ENV === 'development') {\n            sqPaymentScript.src = \"https://sandbox.web.squarecdn.com/v1/square.js\"\n        } else {\n            sqPaymentScript.src = \"https://web.squarecdn.com/v1/square.js\"\n        }\n        sqPaymentScript.crossorigin = \"anonymous\"\n        sqPaymentScript.onload = () => {\n            resolve()\n        }\n        sqPaymentScript.onerror = () => {\n            reject(`Failed to load ${sqPaymentScript.src}`)\n        }\n        document.getElementsByTagName(\"head\")[0].appendChild(sqPaymentScript)\n    })\n}\n\nasync function initializeCard(payments) {\n    const card = await payments.card();\n    await card.attach('#card-container');\n\n    return card;\n}\n\nfunction buildPaymentRequest(payments, amount) {\n    return payments.paymentRequest({\n        countryCode: 'US',\n        currencyCode: 'USD',\n        total: {\n            amount: (amount / 100).toString(),\n            label: 'Total',\n        },\n    });\n}\n\nasync function initializeGooglePay(payments, amount) {\n    const paymentRequest = buildPaymentRequest(payments, amount);\n    const googlePay = await payments.googlePay(paymentRequest);\n    await googlePay.attach('#google-pay-button');\n\n    return googlePay;\n}\n\nasync function createPayment(token, guid, amount) {\n    const body = JSON.stringify({\n        locationId,\n        sourceId: token,\n        guid,\n        amount\n    });\n\n    const paymentResponse = await fetch(lambdaUrl, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body,\n    });\n\n    if (paymentResponse.ok) {\n        return paymentResponse.json();\n    }\n\n    const errorBody = await paymentResponse.text();\n    throw new Error(errorBody);\n}\n\nasync function tokenize(paymentMethod) {\n    const tokenResult = await paymentMethod.tokenize();\n    if (tokenResult.status === 'OK') {\n        return tokenResult.token;\n    } else {\n        let errorMessage = `Tokenization failed with status: ${tokenResult.status}`;\n        if (tokenResult.errors) {\n            errorMessage += ` and errors: ${JSON.stringify(\n                tokenResult.errors\n            )}`;\n        }\n\n        throw new Error(errorMessage);\n    }\n}\n\n// status is either SUCCESS or FAILURE;\nfunction displayPaymentResults(status, paymentResults) {\n    const statusContainer = document.getElementById(\n        'payment-status-container'\n    );\n    const receiptContainer = document.getElementById(\n        'receipt-container'\n    );\n    if (status === 'SUCCESS') {\n        statusContainer.classList.remove('is-failure');\n        statusContainer.classList.add('is-success');\n        receiptContainer.style.visibility = 'visible';\n        receiptContainer.style.visibility = 'visible';\n        receiptContainer.innerHTML = `Thank you for purchasing a SCIF badge! Please save <a href=${paymentResults.payment.receiptUrl} target=\"_blank\">your receipt</a> before closing this page.<br /><br /><a href=\"https://discord.gg/h5yJbXgTgE\" target=\"_blank\">Join our Discord</a> and claim your role now!<br /><br />`;\n        if (typeof window !== \"undefined\" && typeof window.gtag !== \"undefined\") { \n            let params = {}\n            // In case someone's buying a badge in something ancient...\n            try { params = new URLSearchParams(document.location.search); } catch (e) {}\n            window.gtag(\"event\", \"badge-purchase\", {badgeType: params.get(\"badge_type\") ?? \"Unknown\"})\n        }\n    } else {\n        statusContainer.classList.remove('is-success');\n        statusContainer.classList.add('is-failure');\n    }\n\n    statusContainer.style.visibility = 'visible';\n}\n\nfunction resetSource(allIframes) {\n    for (let i = 0; i < allIframes.length; i++) {\n        allIframes[i].src = \"\"\n    }\n}\n\nexport default class PaymentForm extends Component {\n    async componentDidMount() {\n        if (!window.Square) {\n            throw new Error('Square.js failed to load properly');\n        }\n\n        let guid = this.props.guid\n        let amount = this.props.amount\n\n        let payments;\n        try {\n            payments = window.Square.payments(appId, locationId)\n        } catch {\n            const statusContainer = document.getElementById(\n                'payment-status-container'\n            );\n            statusContainer.className = 'missing-credentials';\n            statusContainer.style.visibility = 'visible';\n            return;\n        }\n\n        let card;\n        try {\n            card = await initializeCard(payments);\n        } catch (e) {\n            console.error('Initializing Card failed', e);\n            return;\n        }\n\n        let googlePay;\n        try {\n            googlePay = await initializeGooglePay(payments, amount);\n        } catch (e) {\n            console.error('Initializing Google Pay failed', e);\n            // There are a number of reason why Google Pay may not be supported\n            // (e.g. Browser Support, Device Support, Account). Therefore you should handle\n            // initialization failures, while still loading other applicable payment methods.\n        }\n\n        async function handlePaymentMethodSubmission(event, paymentMethod) {\n            event.preventDefault();\n\n            try {\n                // disable the submit button as we await tokenization and make a payment request.\n                cardButton.disabled = true;\n                const token = await tokenize(paymentMethod);\n                const paymentResults = await createPayment(token, guid, amount);\n                displayPaymentResults('SUCCESS', paymentResults);\n\n                console.debug('Payment Success', paymentResults);\n                try {\n                    resetSource(document.getElementsByTagName(\"iframe\"))\n                } finally { }\n            } catch (e) {\n                cardButton.disabled = false;\n                displayPaymentResults('FAILURE');\n                console.error(e.message);\n            }\n        }\n\n        const cardButton = document.getElementById('card-button');\n        cardButton.addEventListener('click', async function (event) {\n            event.preventDefault()\n            await handlePaymentMethodSubmission(event, card);\n        });\n\n        // Checkpoint 2.\n        if (googlePay !== undefined) {\n            const googlePayButton = document.getElementById('google-pay-button');\n            googlePayButton.addEventListener('click', async function (event) {\n                await handlePaymentMethodSubmission(event, googlePay);\n            });\n        }\n\n        if (this.applePay) {\n            const applePayButton = document.getElementById('apple-pay-button');\n            applePayButton.addEventListener('click', async function (event) {\n                await handlePaymentMethodSubmission(event, this.applePay);\n            });\n        }\n    }\n\n    \n    render() {\n        return (\n            <div>\n                <form id=\"payment-form\">\n                <div id=\"google-pay-button\"></div>\n                <div id=\"card-container\"></div>\n                <button id=\"card-button\" type=\"button\">Pay ${this.props.amount / 100}</button>\n                </form>\n                <div id=\"payment-status-container\"></div>\n                <div id=\"receipt-container\"></div>\n            </div>\n        )\n    }\n} ","import React, { useEffect, useState } from \"react\"\nimport { Link } from 'gatsby'\nimport Layout from '@components/layout'\nimport Seo from '@components/seo'\nimport PageContent from '@components/PageContent'\nimport PageHeader from '@components/PageHeader'\nimport CenteredBox from '@components/CenteredBox'\nimport PaymentForm, { loadSquareSdk } from '@components/paymentForm'\n\nconst PaymentPage = ({ location }) => {\n  const [squareStatus, setSquareStatus] = useState(null)\n  useEffect(() => {\n    loadSquareSdk()\n      .then(() => {\n        setSquareStatus(\"SUCCESS\")\n      })\n      .catch(() => setSquareStatus(\"ERROR\"))\n  }, []) // on mount, add the js script dynamically\n\n  const params = new URLSearchParams(location.search)\n  const guid = params.get('guid')\n  const amount = params.get('amount')\n  const tax = params.get('tax')\n  const badgeType = params.get('badge_type')\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/get\n\n  return (\n    <Layout>\n      <Seo title=\"Payment\" />\n      \n      <PageHeader \n        title=\"Payment\" \n      />\n\n      <PageContent suppressHydrationWarning>\n        <CenteredBox>\n          \n          <p>Finish purchasing your {badgeType} below.</p>\n          <p>Total: ${(amount - tax) / 100} { tax > 0 ? <span>+ ${(tax / 100).toFixed(2)} tax</span> : null}</p>\n        </CenteredBox>\n\n        {squareStatus === \"ERROR\" &&\n        \"Failed to load SquareSDK. Please refresh the page.\"}\n        {squareStatus === \"SUCCESS\" && (\n          <PaymentForm guid={guid} amount={amount} />\n        )}\n        <CenteredBox>\n          <small>If you encounter errors, please <Link to='/contact'>contact us</Link> and provide reference ID {guid}.</small>\n          <br />\n          <small>Payment processing is provided by Square. NWIF never handles or stores your credit card details.</small>\n        </CenteredBox>\n      </PageContent>\n    </Layout>\n  )\n}\n\nexport default PaymentPage\n"],"sourceRoot":""}